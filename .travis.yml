language: python
python:
  - 3.7

before_install:
  - curl https://github.com/jgm/pandoc/releases/download/2.7.3/pandoc-2.7.3-1-amd64.deb -L --output pandoc.deb
  - sudo apt install ./pandoc.deb
  - sudo apt-get install -y texlive

script:
  - python3 ./deploy.py

deploy:
  local_dir: docs
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  keep_history: true
  target_branch: gh-pages
  on:
    branch: master
